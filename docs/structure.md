# 코드 구조

## 파일 구조

LETHAL RACE 게임의 파일 구조는 다음과 같습니다:

```
lethal-race/
├── assets/
│   ├── images/       # 게임 이미지 리소스
│   └── sounds/       # 게임 사운드 리소스
├── docs/             # 프로젝트 문서
├── js/
│   ├── ai.js         # AI 상대 구현
│   ├── audio.js      # 오디오 시스템
│   ├── car.js        # 차량 클래스
│   ├── debug.js      # 디버깅 도구
│   ├── effects.js    # 시각적 효과
│   ├── game.js       # 게임 메인 클래스
│   ├── ghost.js      # 고스트 모드 구현
│   ├── keyboard.js   # 키보드 입력 처리
│   ├── physics.js    # 물리 엔진
│   ├── track.js      # 트랙 시스템
│   ├── ui.js         # UI 시스템
│   └── utils.js      # 유틸리티 함수
├── styles/
│   └── main.css      # 메인 스타일시트
└── index.html        # 메인 HTML 파일
```

## 클래스 구조

LETHAL RACE 게임의 주요 클래스 구조는 다음과 같습니다:

### Game 클래스 (game.js)
- 게임의 메인 클래스로, 다른 모든 컴포넌트를 초기화하고 관리합니다.
- 게임 루프를 실행하고 업데이트 로직을 처리합니다.

### Car 클래스 (car.js)
- 플레이어와 AI 차량을 표현하는 클래스입니다.
- 차량의 물리적 속성과 렌더링을 관리합니다.

### Track 클래스 (track.js)
- 레이싱 트랙을 생성하고 관리하는 클래스입니다.
- 체크포인트, 시작/결승선, 충돌 감지 등을 처리합니다.

### Physics 클래스 (physics.js)
- 게임의 물리 엔진을 구현한 클래스입니다.
- 차량의 움직임, 충돌, 물리적 상호작용을 계산합니다.

### Ghost 클래스 (ghost.js)
- 고스트 모드를 구현한 클래스입니다.
- 이전 주행 기록을 저장하고 재생합니다.

### GameUI 클래스 (ui.js)
- 게임의 UI 요소를 관리하는 클래스입니다.
- 메뉴, HUD, 게임 오버 화면 등을 처리합니다.

### AIDriver 클래스 (ai.js)
- AI 상대를 구현한 클래스입니다.
- 트랙을 따라 자동으로 주행하는 로직을 포함합니다.

### KeyboardController 클래스 (keyboard.js)
- 키보드 입력을 처리하는 클래스입니다.
- 플레이어의 차량 조작 입력을 관리합니다.

### GameAudio 클래스 (audio.js)
- 게임의 오디오 시스템을 관리하는 클래스입니다.
- 배경 음악, 효과음, 엔진 소리 등을 처리합니다.

### Effects 클래스 (effects.js)
- 게임의 시각적 효과를 관리하는 클래스입니다.
- 드리프트 마크, 먼지 효과 등을 생성합니다.

## 데이터 흐름

1. `index.html`이 로드되면 `Game` 클래스의 인스턴스가 생성됩니다.
2. `Game` 클래스는 필요한 모든 컴포넌트(`Track`, `Car`, `Physics`, `UI` 등)를 초기화합니다.
3. 게임 루프가 시작되어 각 프레임마다 모든 컴포넌트를 업데이트합니다.
4. 플레이어의 입력은 `KeyboardController`를 통해 처리되어 `Car` 클래스로 전달됩니다.
5. `Physics` 클래스는 차량의 움직임과 충돌을 계산합니다.
6. `Track` 클래스는 체크포인트와 랩 완료를 감지합니다.
7. `UI` 클래스는 게임 상태를 화면에 표시합니다.
8. 게임이 종료되면 결과가 표시되고, 고스트 데이터가 저장됩니다.